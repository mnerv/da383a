cxx = c++
cc  = cc
cflags = -std=c++20
cflags = $cflags -Wall -Wextra -Wno-deprecated -Werror -Wpedantic
cflags = $cflags -I. -I../src

bin_dir = bin

rule cxx
    command = $cxx $cflags $in -o $out
rule bin_dir
    command = mkdir -p $bin_dir
rule run_bin
    command = $in

build bin.dir: bin_dir
build bin/filter: cxx filter.cpp

build run: run_bin bin/filter

default bin/filter

